!function(t){function e(e){for(var i,a,s=e[0],u=e[1],c=e[2],h=0,d=[];h<s.length;h++)a=s[h],r[a]&&d.push(r[a][0]),r[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);for(l&&l(e);d.length;)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={0:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;o.push([1416,1]),n()}({1416:function(t,e,n){"use strict";n.r(e);var i;n(68);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.Initial=0]="Initial",t[t.Input=1]="Input",t[t.CurrentAnimationEnd=2]="CurrentAnimationEnd",t[t.Conditional=3]="Conditional"}(i||(i={}));var a=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"scene",void 0),o(this,"entity",void 0),o(this,"states",void 0),o(this,"currentState",void 0),o(this,"triggerCancelers",void 0),this.scene=e,this.entity=n,this.states=i,this.currentState=r,this.triggerCancelers=[]}var e,n,a;return e=t,(n=[{key:"create",value:function(){this.doTransition({type:i.Initial,to:this.currentState.id})}},{key:"update",value:function(){this.currentState.onUpdate&&this.currentState.onUpdate(this.entity,this.currentState.data||{})}},{key:"doTransition",value:function(t){this.cancelTransitionTriggers();var e="string"==typeof t.to?t.to:t.to(this.entity);this.currentState=this.states.find(function(t){return t.id===e}),t.onTransition&&t.onTransition(this.entity),this.currentState.onEnter&&this.currentState.onEnter(this.entity,this.currentState.data||{}),this.registerTransitionTriggers()}},{key:"cancelTransitionTriggers",value:function(){this.triggerCancelers.forEach(function(t){return t()}),this.triggerCancelers=[]}},{key:"registerTransitionTriggers",value:function(){var t=this;this.currentState.transitions.forEach(function(e){switch(e.type){case i.Input:t.registerInputTransitionTrigger(e);break;case i.CurrentAnimationEnd:t.registerCurrentAnimationEndTransitionTrigger(e);break;case i.Conditional:t.registerConditionalTransitionTrigger(e)}})}},{key:"registerInputTransitionTrigger",value:function(t){var e=this,n=function(n){n.key===t.key&&e.doTransition(t)};this.scene.input.keyboard.on(t.event,n),this.triggerCancelers.push(function(){return e.scene.input.keyboard.off(t.event,n)})}},{key:"registerCurrentAnimationEndTransitionTrigger",value:function(t){var e=this,n=function(){e.doTransition(t)};this.entity.sprite.anims.currentAnim.on(Phaser.Animations.Events.ANIMATION_COMPLETE,n),this.triggerCancelers.push(function(){return e.entity.sprite.anims.currentAnim.off(Phaser.Animations.Events.ANIMATION_COMPLETE,n)})}},{key:"registerConditionalTransitionTrigger",value:function(t){var e=this,n=function(){t.condition(e.entity)&&e.doTransition(t)};this.scene.events.on(Phaser.Scenes.Events.POST_UPDATE,n),this.triggerCancelers.push(function(){return e.scene.events.off(Phaser.Scenes.Events.POST_UPDATE,n)})}}])&&r(e.prototype,n),a&&r(e,a),t}();function s(t,e){var n=[t.onEnter,e.onEnter].filter(Boolean),i=[t.onUpdate,e.onUpdate].filter(Boolean),r=[t.transitions,e.transitions].filter(Boolean).flat().reduce(function(t,e){return t.find(function(t){return t.to===e.to})||t.push(e),t},[]),a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){o(t,e,n[e])})}return t}({},t.data,e.data);return{id:t.id||e.id,transitions:r,data:a,onEnter:function(t,e){return n.forEach(function(n){return n(t,e)})},onUpdate:function(t,e){return i.forEach(function(n){return n(t,e)})}}}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"scene",void 0),c(this,"boundsKey",void 0),c(this,"entity",void 0),c(this,"boundsFrames",void 0),this.scene=e,this.entity=n,this.boundsKey=i}var e,n,i;return e=t,(n=[{key:"create",value:function(){this.boundsFrames=this.scene.cache.json.get(this.boundsKey)}},{key:"update",value:function(){var t=this.entity.sprite.frame.texture.key,e=this.entity.sprite.frame.name,n=this.boundsFrames.find(function(n){return n.key===t&&n.frame===e});if(n){var i=n.bounds,r=i.offset.x,o=i.offset.y;this.entity.sprite.flipX&&(r=this.entity.sprite.width-r-i.size.width),this.entity.sprite.flipY&&(o=this.entity.sprite.height-o-i.size.height),this.entity.body.setSize(i.size.width,i.size.height),this.entity.body.setOffset(r,o)}else this.entity.body.setSize(this.entity.sprite.width,this.entity.sprite.height),this.entity.body.setOffset(0,0);this.entity.body.updateBounds()}}])&&u(e.prototype,n),i&&u(e,i),t}();function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,"scene",void 0),d(this,"controls",void 0),this.scene=e,this.controls={}}var e,n,i;return e=t,(n=[{key:"create",value:function(){this.controls=this.scene.input.keyboard.addKeys({up:Phaser.Input.Keyboard.KeyCodes.UP,down:Phaser.Input.Keyboard.KeyCodes.DOWN,left:Phaser.Input.Keyboard.KeyCodes.LEFT,right:Phaser.Input.Keyboard.KeyCodes.RIGHT})}},{key:"getControls",value:function(){return this.controls}}])&&h(e.prototype,n),i&&h(e,i),t}();function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,"scene",void 0),v(this,"entity",void 0),v(this,"animationsKey",void 0),v(this,"hitboxFrames",void 0),v(this,"rectanglePool",void 0),v(this,"activeRectangles",void 0),v(this,"debugRectangles",void 0),v(this,"debug",void 0),v(this,"debugPointerPosition",void 0),v(this,"debugColor",void 0),this.scene=e,this.entity=n,this.animationsKey=i,this.rectanglePool=[],this.activeRectangles=[],this.debug=r,this.debugColor=65280,this.debugRectangles=[]}var e,n,i;return e=t,(n=[{key:"create",value:function(){var t=this;this.hitboxFrames=this.scene.cache.json.get(this.animationsKey).frames,this.debugRectangles=[],this.debugPointerPosition={x:0,y:0},this.debug&&this.scene.input.on("pointermove",function(e){t.debugPointerPosition=e.position})}},{key:"update",value:function(){var t=this;this.disableHitboxes();var e=this.entity.sprite.frame.texture.key,n=this.entity.sprite.frame.name,i=this.hitboxFrames.find(function(t){return t.key===e&&t.frame===n});i&&i.hitboxes&&i.hitboxes.forEach(function(e){if("rectangle"!==e.type)throw"unsupported hitbox type";t.setRectangleHitbox(e)}),this.debug&&this.renderDebugHitboxes()}},{key:"renderDebugHitboxes",value:function(){var t=this,e=new Phaser.Geom.Point(this.debugPointerPosition.x,this.debugPointerPosition.y);this.activeRectangles.forEach(function(n,i){Phaser.Geom.Rectangle.ContainsPoint(n,e)?t.debugColor=16711680:t.debugColor=65280;var r=t.debugRectangles[i];r.visible=!0,r.fillColor=t.debugColor,r.setOrigin(0,0),r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height})}},{key:"disableHitboxes",value:function(){this.rectanglePool=[].concat(f(this.rectanglePool),f(this.activeRectangles)),this.activeRectangles=[],this.debugRectangles.forEach(function(t){return t.visible=!1})}},{key:"getAvailableRectangle",value:function(){var t=this.rectanglePool.pop();return null==t&&(t=new Phaser.Geom.Rectangle(0,0,0,0),this.debug&&this.debugRectangles.push(this.scene.add.rectangle(0,0,0,0,this.debugColor,.5))),this.activeRectangles.push(t),t}},{key:"setRectangleHitbox",value:function(t){var e=this.getAvailableRectangle(),n=this.entity.sprite.scaleX,i=this.entity.sprite.scaleY,r=this.entity.sprite.flipX?-1*t.x:t.x,o=this.entity.sprite.flipY?-1*t.y:t.y,a=n*t.width,s=i*t.height,u=this.entity.sprite.x+r*n-a*this.entity.sprite.originX,c=this.entity.sprite.y+o*i-s*this.entity.sprite.originY;e.x=u,e.y=c,e.width=a,e.height=s}}])&&p(e.prototype,n),i&&p(e,i),t}();function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"scene",void 0),m(this,"entity",void 0),m(this,"radius",void 0),m(this,"interactionCircle",void 0),m(this,"debug",void 0),m(this,"debugCircle",void 0),this.scene=e,this.entity=n,this.radius=i,this.debug=r||!1}var e,n,i;return e=t,(n=[{key:"create",value:function(){this.interactionCircle=new Phaser.Geom.Circle(this.entity.sprite.x,this.entity.sprite.y,this.radius),this.debug&&(this.debugCircle=this.scene.add.circle(this.entity.sprite.x,this.entity.sprite.y,this.radius,65280,.5),this.debugCircle.setOrigin(.25,.25),console.log(this.debugCircle))}},{key:"update",value:function(){if(this.interactionCircle.setPosition(this.entity.sprite.x,this.entity.sprite.y),this.debug){var t=this.scene.input.activePointer.positionToCamera(this.scene.cameras.main);this.debugCircle.setPosition(this.entity.sprite.x,this.entity.sprite.y),Phaser.Geom.Intersects.CircleToCircle(this.interactionCircle,new Phaser.Geom.Circle(t.x,t.y,1))?this.debugCircle.setFillStyle(16711680,.5):this.debugCircle.setFillStyle(65280,.5)}}},{key:"getInteractionCircle",value:function(){return this.interactionCircle}}])&&g(e.prototype,n),i&&g(e,i),t}();function P(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,"scene",void 0),E(this,"x",void 0),E(this,"y",void 0),E(this,"key",void 0),E(this,"sprite",void 0),this.scene=e,this.x=n,this.y=i,this.key=r}var e,n,i;return e=t,(n=[{key:"create",value:function(){this.sprite=this.scene.physics.add.sprite(this.x,this.y,this.key)}},{key:"getSprite",value:function(){return this.sprite}},{key:"getBody",value:function(){return this.sprite.body}}])&&P(e.prototype,n),i&&P(e,i),t}(),x={maxVelocity:350,horizontalAcceleration:800,horizontalDeceleration:2e3,slideVelocityThreshold:250,slideDeceleration:400,jumpVelocity:-500,aerialMaxHorizontalVelocity:250,aerialHorizontalAcceleration:300,aerialHorizontalFrictionAcceleration:150},A={transitions:[{type:i.Conditional,condition:function(t){return t.body.velocity.y>5},to:function(t){return t.body.velocity.y=100,t.body.velocity.x>0?"adventurer-fall-right":t.body.velocity.x<0?"adventurer-fall-left":"adventurer-fall"}}]};var O=s(A,{onEnter:function(t){!function(t){t.body.acceleration.x=t.body.velocity.x<0?x.horizontalDeceleration:-x.horizontalDeceleration}(t)},onUpdate:function(t){!function(t){Phaser.Math.Within(t.body.velocity.x,0,100)&&(t.body.acceleration.x=0,t.body.velocity.x=0)}(t)}}),C=s(O,{id:"adventurer-stand",onEnter:function(t){t.sprite.anims.play("adventurer-stand")},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowRight",to:"adventurer-run-right"},{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowLeft",to:"adventurer-run-left"},{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowDown",to:"adventurer-crouch"},{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowUp",to:"adventurer-jump-prep"}]}),S=s(O,{id:"adventurer-crouch",onEnter:function(t){t.sprite.anims.play("adventurer-crouch")},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_UP,key:"ArrowDown",to:function(t){return t.controls.left.isDown?"adventurer-run-left":t.controls.right.isDown?"adventurer-run-right":"adventurer-stand"}}]}),j=s(A,{onEnter:function(t){t.sprite.flipX=!1,t.sprite.anims.play("adventurer-run")},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowDown",to:function(t){return Math.abs(t.body.velocity.x)<x.slideVelocityThreshold?"adventurer-crouch":"adventurer-slide"}},{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowUp",to:"adventurer-jump-prep"}]});function I(t,e){"left"===e?t.body.acceleration.x=-x.horizontalAcceleration:"right"===e&&(t.body.acceleration.x=x.horizontalAcceleration),function(t){Phaser.Math.Within(t.body.velocity.x,0,5)||(t.body.velocity.x+=.5*t.body.velocity.x*-1)}(t)}var T=s(j,{id:"adventurer-run-right",onEnter:function(t){t.sprite.flipX=!1,t.sprite.anims.play("adventurer-run"),I(t,"right")},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_UP,key:"ArrowRight",to:"adventurer-stand"},{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowLeft",to:"adventurer-run-left"}]}),_=s(j,{id:"adventurer-run-left",onEnter:function(t){t.sprite.flipX=!0,t.sprite.anims.play("adventurer-run"),I(t,"left")},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_UP,key:"ArrowLeft",to:"adventurer-stand"},{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowRight",to:"adventurer-run-right"}]}),K=s(A,{id:"adventurer-slide",onEnter:function(t){t.sprite.anims.play("adventurer-slide"),t.body.velocity.x>0?t.body.acceleration.x=-1*x.slideDeceleration:t.body.acceleration.x=x.slideDeceleration},transitions:[{type:i.CurrentAnimationEnd,to:function(t){return t.controls.left.isDown?"adventurer-run-left":t.controls.right.isDown?"adventurer-run-right":t.controls.down.isDown?"adventurer-crouch":"adventurer-stand"}},{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowUp",to:"adventurer-jump-prep"}]}),D={id:"adventurer-jump-prep",onEnter:function(t){t.body.acceleration.x=0,t.sprite.anims.play("adventurer-jump-prep")},transitions:[{type:i.CurrentAnimationEnd,to:function(t){return t.controls.right.isDown?"adventurer-jump-right":t.controls.left.isDown?"adventurer-jump-left":t.body.velocity.x>0?"adventurer-jump-right":t.body.velocity.x<0?"adventurer-jump-left":"adventurer-jump"},onTransition:function(t){t.body.velocity.y=x.jumpVelocity}}]};var Y={onUpdate:function(t,e){t.controls.left.isDown||t.controls.right.isDown?function(t,e){t.controls.left.isDown&&t.body.velocity.x>e?t.body.acceleration.x=-1*x.aerialHorizontalAcceleration:t.controls.right.isDown&&t.body.velocity.x<e&&(t.body.acceleration.x=x.aerialHorizontalAcceleration)}(t,e.targetAerialHorizontalVelocity):function(t){t.body.velocity.x>0?t.body.acceleration.x=-1*x.aerialHorizontalFrictionAcceleration:t.body.velocity.x<0?t.body.acceleration.x=x.aerialHorizontalFrictionAcceleration:t.body.acceleration.x=0}(t),Phaser.Math.Within(e.targetAerialHorizontalVelocity,t.body.velocity.x,5)&&(t.body.acceleration.x=0,t.body.velocity.x=e.targetAerialHorizontalVelocity)}},N=s(Y,{onEnter:function(t){t.sprite.anims.play("adventurer-jump-rise")}}),z=s(N,{id:"adventurer-jump",data:{targetAerialHorizontalVelocity:0},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowLeft",to:"adventurer-jump-left"},{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowRight",to:"adventurer-jump-right"},{type:i.Conditional,condition:function(t){return t.body.velocity.y>1},to:"adventurer-fall"}]}),H=s(N,{id:"adventurer-jump-left",data:{targetAerialHorizontalVelocity:-1*x.aerialMaxHorizontalVelocity},onEnter:function(t){t.sprite.flipX=!0},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowRight",to:"adventurer-jump-right"},{type:i.Conditional,condition:function(t){return t.body.velocity.y>0},to:"adventurer-fall-left"}]}),R=s(N,{id:"adventurer-jump-right",data:{targetAerialHorizontalVelocity:x.aerialMaxHorizontalVelocity},onEnter:function(t){t.sprite.flipX=!1},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowLeft",to:"adventurer-jump-left"},{type:i.Conditional,condition:function(t){return t.body.velocity.y>0},to:"adventurer-fall-right"}]}),W=s(Y,{onEnter:function(t){t.sprite.anims.play("adventurer-fall")},transitions:[{type:i.Conditional,condition:function(t){return Phaser.Math.Within(t.body.velocity.y,0,5)},to:function(t){return t.controls.down.isDown?Math.abs(t.body.velocity.x)<x.slideVelocityThreshold?"adventurer-crouch":"adventurer-slide":t.controls.left.isDown?"adventurer-run-left":t.controls.right.isDown?"adventurer-run-right":"adventurer-stand"}}]}),M=[C,S,T,_,K,D,z,H,R,s(W,{id:"adventurer-fall",data:{horizontalMaxVelocity:0},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowLeft",to:"adventurer-fall-left"},{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowRight",to:"adventurer-fall-right"}]}),s(W,{id:"adventurer-fall-left",data:{targetAerialHorizontalVelocity:-1*x.aerialMaxHorizontalVelocity},onEnter:function(t){t.sprite.flipX=!0},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowRight",to:"adventurer-fall-right"}]}),s(W,{id:"adventurer-fall-right",data:{targetAerialHorizontalVelocity:x.aerialMaxHorizontalVelocity},onEnter:function(t,e){t.sprite.flipX=!1},transitions:[{type:i.Input,event:Phaser.Input.Keyboard.Events.ANY_KEY_DOWN,key:"ArrowLeft",to:"adventurer-fall-left"}]})];function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,"sprite",void 0),U(this,"body",void 0),U(this,"controls",void 0),U(this,"phiniteState",void 0),U(this,"hurtboxes",void 0),U(this,"boundable",void 0),U(this,"interactable",void 0),U(this,"interactionCircle",void 0)}var e,n,i;return e=t,(n=[{key:"create",value:function(t){var e=this;t.events.on(Phaser.Scenes.Events.POST_UPDATE,function(){return e.update()});var n=new k(t,900,100,"adventurer-core");n.create(),this.sprite=n.getSprite(),this.sprite.setScale(2),this.body=n.getBody(),this.body.maxVelocity.x=x.maxVelocity,this.body.setSize(25,32),this.body.setOffset(12,5);var i=new y(t);i.create(),this.controls=i.getControls(),this.phiniteState=new a(t,this,M,M.find(function(t){return"adventurer-stand"===t.id})),this.phiniteState.create(),this.hurtboxes=new b(t,this,"adventurer-hitboxes"),this.hurtboxes.create(),this.boundable=new l(t,this,"adventurer-bounds"),this.boundable.create(),this.interactable=new w(t,this,30),this.interactable.create(),this.interactionCircle=this.interactable.getInteractionCircle()}},{key:"update",value:function(){this.phiniteState.update(),this.hurtboxes.update(),this.boundable.update(),this.interactable.update()}}])&&V(e.prototype,n),i&&V(e,i),t}();function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var G=function(){function t(e,n,i,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),X(this,"scene",void 0),X(this,"x",void 0),X(this,"y",void 0),X(this,"key",void 0),X(this,"frame",void 0),X(this,"_sprite",void 0),this.scene=e,this.x=n,this.y=i,this.key=r,this.frame=o||0}var e,n,i;return e=t,(n=[{key:"create",value:function(){this._sprite=this.scene.add.sprite(this.x,this.y,this.key,this.frame)}},{key:"getSprite",value:function(){return this._sprite}}])&&F(e.prototype,n),i&&F(e,i),t}();function B(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),J(this,"interactionCircle",void 0),J(this,"sprite",void 0),J(this,"interactable",void 0),J(this,"indicatorSprite",void 0)}var e,n,i;return e=t,(n=[{key:"create",value:function(t,e,n,i,r){var o=new G(t,e,n,i,r);o.create(),this.sprite=o.getSprite(),this.sprite.setScale(2),this.interactable=new w(t,this,30),this.interactable.create(),this.interactionCircle=this.interactable.getInteractionCircle(),this.indicatorSprite=t.add.sprite(e,n-this.sprite.displayHeight-5,"indicator-down"),this.indicatorSprite.setScale(2),this.hideIndicator()}},{key:"update",value:function(){this.interactable.update()}},{key:"showIndicator",value:function(){this.indicatorSprite.visible=!0,this.indicatorSprite.active=!0,this.indicatorSprite.anims.play("indicator-down",!0)}},{key:"hideIndicator",value:function(){this.indicatorSprite.visible=!1,this.indicatorSprite.active=!1,this.indicatorSprite.anims.stop()}}])&&B(e.prototype,n),i&&B(e,i),t}();function Q(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,"tagMap",void 0),Z(this,"systems",void 0),this.tagMap={},this.systems=[]}var e,n,i;return e=t,(n=[{key:"add",value:function(t,e){this.tagMap[t]=this.tagMap[t]||[],this.tagMap[t].push(e)}},{key:"get",value:function(t){return this.tagMap[t]}},{key:"addSystem",value:function(t){this.systems.push(t)}},{key:"update",value:function(){var t=this;this.systems.forEach(function(e){e.call(t)})}}])&&Q(e.prototype,n),i&&Q(e,i),t}();function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at={width:800,height:450,scene:function(t){function e(t){var n,i,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,n=!(r=nt(e).call(this,t))||"object"!==tt(r)&&"function"!=typeof r?it(i):r,ot(it(n),"adventurer",void 0),ot(it(n),"tagSystem",void 0),n.adventurer=new L,n.tagSystem=new $,n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(e,Phaser.Scene),n=e,(i=[{key:"preload",value:function(){this.load.spritesheet("adventurer-core","/assets/sprites/adventurer/adventurer-core.png",{frameWidth:50,frameHeight:37}),this.load.spritesheet("adventurer-bow","/assets/sprites/adventurer/adventurer-bow.png",{frameWidth:50,frameHeight:37}),this.load.animation("adventurer-animations","/assets/animations/adventurer.json"),this.load.json("adventurer-hitboxes","/assets/hitboxes/adventurer.json"),this.load.json("adventurer-bounds","/assets/bounds/adventurer.json"),this.load.spritesheet("indicator-down","/assets/sprites/indicators/indicator-down.png",{frameWidth:16,frameHeight:16}),this.load.animation("indicator-animations","/assets/animations/indicators.json"),this.load.spritesheet("fantasy-platformer-core-spritesheet","/assets/tilesets/fantasy-platformer-core.png",{frameWidth:16,frameHeight:16}),this.load.image("fantasy-platformer-core","/assets/tilesets/fantasy-platformer-core.png"),this.load.tilemapTiledJSON("starting-area","/assets/tilemaps/starting-area.json")}},{key:"create",value:function(){var t=this,e=this.make.tilemap({key:"starting-area"}),n=e.addTilesetImage("fantasy-platformer-core","fantasy-platformer-core"),i=e.createStaticLayer("ground",n,0,0),r=e.createStaticLayer("background-base",n,0,0),o=e.createStaticLayer("background-details",n,0,0);this.adventurer.create(this);var a=e.createStaticLayer("foreground",n,0,0),s=e.getObjectLayer("signs").objects[0],u=new q;u.create(this,2*s.x,2*s.y-e.tileHeight,"fantasy-platformer-core-spritesheet",1128),this.tagSystem.add("sign-interactor",this.adventurer),this.tagSystem.add("sign-interactive",u),this.tagSystem.addSystem(function(){var e=t.tagSystem.get("sign-interactor"),n=t.tagSystem.get("sign-interactive");e.forEach(function(t){n.forEach(function(e){var n=t.interactionCircle,i=e.interactionCircle;Phaser.Geom.Intersects.CircleToCircle(n,i)?u.showIndicator():u.hideIndicator()})})}),i.setScale(2),r.setScale(2),o.setScale(2),a.setScale(2),i.setCollisionByProperty({collides:!0}),this.physics.add.collider(this.adventurer.sprite,i),this.cameras.main.setBounds(0,0,e.width*n.tileWidth*2,e.height*n.tileHeight*2),this.cameras.main.startFollow(this.adventurer.sprite,!0)}},{key:"update",value:function(){this.tagSystem.update()}}])&&et(n.prototype,i),r&&et(n,r),e}(),pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:1100}}}};new Phaser.Game(at)}});